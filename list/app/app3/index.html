<!DOCTYPE html>
<html lang="en"><head>
    <link rel="stylesheet" href="/css/custom.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APK 逆向：数据/逻辑/视图 修改实战</title>
    <meta charset="utf-8">
    <meta name="description" content="Ladder@APK 逆向：数据/逻辑/视图 修改实战 - Hzhsec home">
    <meta name="author" content="hzhsec">
    <link rel="canonical" href="https://hzhsec.github.io/list/app/app3/">

    <link rel="alternate" type="application/rss+xml" href="https://hzhsec.github.io//index.xml" title="Hzhsec home">

    


<script async defer data-website-id="3bfa7bff-77f4-4fe9-ad96-a44d83f72465" src="https://umami-evtq.vercel.app/baize"></script>

    <meta property="og:title" content="APK 逆向：数据/逻辑/视图 修改实战" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hzhsec.github.io/list/app/app3/" /><meta property="article:section" content="list" />
<meta property="article:published_time" content="2024-05-15T15:00:00+08:00" />
<meta property="article:modified_time" content="2024-05-15T15:00:00+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="APK 逆向：数据/逻辑/视图 修改实战"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "目录",
      "item": "https://hzhsec.github.io/list/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "APP攻防",
      "item": "https://hzhsec.github.io/list/app/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "APK 逆向：数据/逻辑/视图 修改实战",
      "item": "https://hzhsec.github.io/list/app/app3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "APK 逆向：数据/逻辑/视图 修改实战",
  "name": "APK 逆向：数据\/逻辑\/视图 修改实战",
  "description": "",
  "keywords": [
    "APK逆向", "Smali", "Frida", "Xposed", "布局修改", "数据篡改"
  ],
  "articleBody": "APK 逆向—数据修改 · 逻辑修改 · 视图修改 APK 的基本目录结构图：\n组件说明（activity, service 等）：\n逆向流程图：\n关键点定位与修改图：\nActivity 生命周期与回调：\n常见安卓逆向工具与环境（速览） 类别 工具 / 说明 运行环境 安卓模拟器（建议 root 或真机） Hook 框架 Magisk、Xposed (XP)、LSP 反编译 Jadx-GUI（查看 Java 源） 查壳 ApkScan / PKID 打包/签名 MT 管理器、NP 管理器 辅助工具 开发者助手（布局查看）、开发组手/算法组手 动态 Hook Frida / Xposed 模块 Smali / 汇编 Smali 语法参考（用于逻辑层修改） 脱壳参考 见参考链接（公众号/文章） 安装参考与资料：\nhttps://blog.csdn.net/danran550/article/details/132256027\n脱壳相关参考：https://mp.weixin.qq.com/s/poQPuvaQPadQxRu_WGvy1A\n一、数据修改 — 结构 \u0026 格式 1. 目录意义（快速说明） AndroidManifest.xml：组件入口、权限、intent-filter、provider 权限等。 res/：布局、资源、字符串、样式。 lib/：Native 库（so）。 classes.dex：Dex 字节码（主要逻辑所在）。 assets/：应用自带资源/配置。 2. 数据格式（常见） JSON / XML：接口返回或本地存储常见格式，易于拦截与修改。 SharedPreferences：键值对形式，常用于本地用户状态、Token 缓存。 SQLite：本地数据库，需使用 DB 浏览器或 MT 管理器查看。 二进制/自定义序列化：部分应用会自定义格式或加密，需逆向算法组手。 二、逻辑修改 — Smali 语法（要点） 1. 常见判断逻辑替换 路径：在 classes.dex 反编译为 Smali 后查找关键函数（比如 isVip(), checkSign() 等）。 修改方式：将 if-nez / if-eqz 分支反转或直接返回常量（例如直接 const/4 v0, 0x1 代表返回 true）。 保存并重新打包：apktool -\u003e 修改 smali -\u003e apktool b -\u003e 签名并安装。 2. 存储器值修改（示例） 修改 SharedPreferences 或常量：直接定位赋值指令 iput / sput / const-string 并改为期望值。 注意：修改后需保证签名有效或使用 adb install -r + 允许调试安装。 三、视图修改 — Activity \u0026 XML 1. 时间机制（UI 时间/倒计时） 查找 TextView 更新逻辑或 Handler / TimerTask 定时器，在 Smali 中找到对应回调并修改显示逻辑或直接注入常量。 2. 引用更改（布局 ID / 引用） 使用开发者助手或 layout 资源查看布局树，找到 id。 若布局在 res/layout/*.xml，可直接反编译修改 xml 值（例如隐藏广告 View：android:visibility=\"gone\"）。 3. HOOK 模块（替代方案） 使用 Xposed / Frida Hook 对特定 Activity 的 onCreate() / UI 更新方法进行拦截并修改参数，避免修改原包。 四、实战案例（步骤化） 案例 1 — 淘小说：升级 VIP（思路） 搜关键字（如 isVip、getVipType、vipLevel）。 找到引用 ID / 方法：定位判断逻辑或接口解析代码。 修改返回值（Smali 或 Hook）：让函数永远返回“VIP”。 重签名与安装，验证效果。 案例 2 — 刷圈兔：去除广告（思路） 使用开发助手查看布局，定位 bannerViewPager 或 adView。 修改布局 xml（设置 visibility=\"gone\" 或移除对应 View）或在 Activity 中注入代码隐藏该元素。 替代方案：Hook 加载广告的方法（拦截 loadAd() 并空实现）。 案例 3 — 元气壁纸：升级 VIP（抓包改响应） 场景：前端逻辑安全，直接修改接口响应并重发到应用能生效。 示例响应（JSON）： { \"code\": 200, \"data\": { \"id\": 2220156, \"userId\": \"8kMP5il1\", \"phoneNum\": \"13554365566\", \"username\": null, \"avatarUrl\": null, \"coverUrl\": null, \"gender\": 0, \"vipType\": 256, \"vipPastDueTime\": 0, \"vipLabelLevel\": 3, \"vipLabel\": \"元老用户\", \"createTime\": 1693635001297, \"updateTime\": 1693635001297, \"vitalityVipPastDueTime\": 253392455349, \"accountSign\": null, \"webBackground\": null, \"unionId\": null, \"age\": 0, \"category\": null, \"isVirtual\": 0, \"qqUnionId\": null, \"pcVipType\": 256, \"pcVipPastDueTime\": 253392455349, \"vitalityPcVipPastDueTime\": 253392455349, \"token\": \"xxxxxxxxxxxxxxxx\" }, \"error_msg\": null } 方法：使用 Burp/Proxy 修改响应并重发（注意接口签名、时间戳、加密校验等）。\n五、常用命令（快速参考） # 反编译 APK（apktool） apktool d app.apk -o app_src # 反编译 classes.dex 为 Smali（apktool 已包含） # 使用 jadx-gui 查看 Java 风格代码 jadx-gui app.apk # 重新打包 apktool b app_src -o new_app.apk # 签名（apksigner 或 jarsigner） apksigner sign --ks mykeystore.jks new_app.apk # 安装 adb install -r new_app.apk 六、注意事项与合规 所有逆向 / 修改应在 授权测试环境 下进行（公司授权或本人测试用设备）。 修改后应用可能触发完整性校验（如 Google SafetyNet、Play Integrity）或服务端校验，需评估影响。 若应用有混淆/加固（如 360、腾讯加固、壳），先行脱壳再做修改。 ",
  "wordCount" : "343",
  "inLanguage": "en",
  "datePublished": "2024-05-15T15:00:00+08:00",
  "dateModified": "2024-05-15T15:00:00+08:00",
  "author":{
    "@type": "Person",
    "name": "hzhsec"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hzhsec.github.io/list/app/app3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Hzhsec home",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hzhsec.github.io/favicon.ico"
    }
  }
}
</script>
    <link rel="icon" href="/static/hzhsec.png" sizes="16x16">

<link rel="apple-touch-icon" href="/static/hzhsec.png">

<link rel="manifest" href="/static/hzhsec.png">
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css" />

    
    
    <link rel="stylesheet" href="/css/main.min.ec28f09e946fc0df77c187fcd0d0ebde58fca6de8efb8e1620f3d45c32d4da88.css" integrity="sha256-7CjwnpRvwN93wYf80NDr3lj8pt6O&#43;44WIPPUXDLU2og=" crossorigin="anonymous" media="screen" />

    
    <link rel="stylesheet" href="/scss/highlight/github-dark.min.min.66034289ee9a113219a2c4aae0a8bd2095ab255c832a42efcf5863f10814e7a1.css" />

    
    <script src="/js/highlight.min.min.c098d85b5396dec4707ea2cead1445b4dc2ff0fc56b8dbbd9049d0d1c50ad237.js"></script>
    <script>hljs.highlightAll();</script>

    <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>
    </head>
<body>
      <main class="wrapper"><nav class="navigation">
    <section class="container">
        <a class="navigation-brand" href="/">
            主页
        </a>
        <input type="checkbox" id="menu-toggle" />
        <label class="menu-button float-right" for="menu-toggle">
            <span></span><span></span><span></span>
        </label>
        
        <ul class="navigation-list" id="navigation-list">
            
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/list/">目录</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/archives/">归档</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/message/">关于</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="/categories/">分类</a>
            </li>
            
            <li class="navigation-item navigation-menu">
                <a class="navigation-link" href="https://umami-evtq.vercel.app/share/NdRAzdY1AwLB5KF2/hzhsec.github.io">网站统计</a>
            </li>
            
            

            <li class="navigation-item menu-separator">
                <span>|</span>
            </li>

            
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="https://github.com/hzhsec">    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github">
      <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
    </svg>
    </a>
            </li>
            
            <li class="navigation-item navigation-social">
                <a class="navigation-link" href="/message/">    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
         stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail">
      <path d="M4 4h16v16H4z"></path><polyline points="4,4 12,12 20,4"></polyline>
    </svg>
    </a>
            </li>
            
            

            <li class="navigation-item navigation-dark">
                <button id="mode" type="button" aria-label="toggle user light or dark theme">
                    <span class="toggle-dark">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </span>
                    <span class="toggle-light">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                             stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </span>
                </button>
            </li>
            
        </ul>
        
    </section>
</nav>

<div id="content">
<article class="blog-single">
  <header class="blog-title">
    <h1>APK 逆向：数据/逻辑/视图 修改实战</h1>
  </header>

  <p>
  <small>
    May 15, 2024&nbsp;· 343 words&nbsp;· 2 min</small>

  
<p>

  <div class="blog-toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#常见安卓逆向工具与环境速览">常见安卓逆向工具与环境（速览）</a></li>
    <li><a href="#一数据修改--结构--格式">一、数据修改 — 结构 &amp; 格式</a>
      <ul>
        <li><a href="#1-目录意义快速说明">1. 目录意义（快速说明）</a></li>
        <li><a href="#2-数据格式常见">2. 数据格式（常见）</a></li>
      </ul>
    </li>
    <li><a href="#二逻辑修改--smali-语法要点">二、逻辑修改 — Smali 语法（要点）</a>
      <ul>
        <li><a href="#1-常见判断逻辑替换">1. 常见判断逻辑替换</a></li>
        <li><a href="#2-存储器值修改示例">2. 存储器值修改（示例）</a></li>
      </ul>
    </li>
    <li><a href="#三视图修改--activity--xml">三、视图修改 — Activity &amp; XML</a>
      <ul>
        <li><a href="#1-时间机制ui-时间倒计时">1. 时间机制（UI 时间/倒计时）</a></li>
        <li><a href="#2-引用更改布局-id--引用">2. 引用更改（布局 ID / 引用）</a></li>
        <li><a href="#3-hook-模块替代方案">3. HOOK 模块（替代方案）</a></li>
      </ul>
    </li>
    <li><a href="#四实战案例步骤化">四、实战案例（步骤化）</a>
      <ul>
        <li><a href="#案例-1--淘小说升级-vip思路">案例 1 — 淘小说：升级 VIP（思路）</a></li>
        <li><a href="#案例-2--刷圈兔去除广告思路">案例 2 — 刷圈兔：去除广告（思路）</a></li>
        <li><a href="#案例-3--元气壁纸升级-vip抓包改响应">案例 3 — 元气壁纸：升级 VIP（抓包改响应）</a></li>
      </ul>
    </li>
    <li><a href="#五常用命令快速参考">五、常用命令（快速参考）</a></li>
    <li><a href="#六注意事项与合规">六、注意事项与合规</a></li>
  </ul>
</nav>
  </div>

  <section class="blog-content"><h1 id="apk-逆向数据修改--逻辑修改--视图修改">APK 逆向—数据修改 · 逻辑修改 · 视图修改</h1>
<ul>
<li>APK 的基本目录结构图：<p align="center"><img src="/static/1 5.jpg" alt="1 5.jpg"></p></li>
<li>组件说明（activity, service 等）：<p align="center"><img src="/static/2 5.jpg" alt="2 5.jpg"></p></li>
<li>逆向流程图：<p align="center"><img src="/static/3 3.jpg" alt="3 3.jpg"></p></li>
<li>关键点定位与修改图：<p align="center"><img src="/static/4 1.jpg" alt="4 1.jpg"></p></li>
<li>Activity 生命周期与回调：<p align="center"><img src="/static/4 1.jpg" alt="5 1.jpg"></p></li>
</ul>
<hr>
<h2 id="常见安卓逆向工具与环境速览">常见安卓逆向工具与环境（速览）</h2>
<table>
<thead>
<tr>
<th>类别</th>
<th>工具 / 说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>运行环境</td>
<td>安卓模拟器（建议 root 或真机）</td>
</tr>
<tr>
<td>Hook 框架</td>
<td>Magisk、Xposed (XP)、LSP</td>
</tr>
<tr>
<td>反编译</td>
<td>Jadx-GUI（查看 Java 源）</td>
</tr>
<tr>
<td>查壳</td>
<td>ApkScan / PKID</td>
</tr>
<tr>
<td>打包/签名</td>
<td>MT 管理器、NP 管理器</td>
</tr>
<tr>
<td>辅助工具</td>
<td>开发者助手（布局查看）、开发组手/算法组手</td>
</tr>
<tr>
<td>动态 Hook</td>
<td>Frida / Xposed 模块</td>
</tr>
<tr>
<td>Smali / 汇编</td>
<td>Smali 语法参考（用于逻辑层修改）</td>
</tr>
<tr>
<td>脱壳参考</td>
<td>见参考链接（公众号/文章）</td>
</tr>
</tbody>
</table>
<p>安装参考与资料：<br>
<code>https://blog.csdn.net/danran550/article/details/132256027</code><br>
脱壳相关参考：<code>https://mp.weixin.qq.com/s/poQPuvaQPadQxRu_WGvy1A</code></p>
<hr>
<h2 id="一数据修改--结构--格式">一、数据修改 — 结构 &amp; 格式</h2>
<h3 id="1-目录意义快速说明">1. 目录意义（快速说明）</h3>
<ul>
<li><code>AndroidManifest.xml</code>：组件入口、权限、intent-filter、provider 权限等。</li>
<li><code>res/</code>：布局、资源、字符串、样式。</li>
<li><code>lib/</code>：Native 库（so）。</li>
<li><code>classes.dex</code>：Dex 字节码（主要逻辑所在）。</li>
<li><code>assets/</code>：应用自带资源/配置。</li>
</ul>
<h3 id="2-数据格式常见">2. 数据格式（常见）</h3>
<ul>
<li>JSON / XML：接口返回或本地存储常见格式，易于拦截与修改。</li>
<li>SharedPreferences：键值对形式，常用于本地用户状态、Token 缓存。</li>
<li>SQLite：本地数据库，需使用 DB 浏览器或 MT 管理器查看。</li>
<li>二进制/自定义序列化：部分应用会自定义格式或加密，需逆向算法组手。</li>
</ul>
<hr>
<h2 id="二逻辑修改--smali-语法要点">二、逻辑修改 — Smali 语法（要点）</h2>
<h3 id="1-常见判断逻辑替换">1. 常见判断逻辑替换</h3>
<ul>
<li>路径：在 <code>classes.dex</code> 反编译为 Smali 后查找关键函数（比如 <code>isVip()</code>, <code>checkSign()</code> 等）。</li>
<li>修改方式：将 <code>if-nez</code> / <code>if-eqz</code> 分支反转或直接返回常量（例如直接 <code>const/4 v0, 0x1</code> 代表返回 true）。</li>
<li>保存并重新打包：<code>apktool</code> -&gt; 修改 <code>smali</code> -&gt; <code>apktool b</code> -&gt; 签名并安装。</li>
</ul>
<h3 id="2-存储器值修改示例">2. 存储器值修改（示例）</h3>
<ul>
<li>修改 SharedPreferences 或常量：直接定位赋值指令 <code>iput</code> / <code>sput</code> / <code>const-string</code> 并改为期望值。</li>
<li>注意：修改后需保证签名有效或使用 <code>adb install -r</code> + 允许调试安装。</li>
</ul>
<hr>
<h2 id="三视图修改--activity--xml">三、视图修改 — Activity &amp; XML</h2>
<h3 id="1-时间机制ui-时间倒计时">1. 时间机制（UI 时间/倒计时）</h3>
<ul>
<li>查找 <code>TextView</code> 更新逻辑或 <code>Handler</code> / <code>TimerTask</code> 定时器，在 Smali 中找到对应回调并修改显示逻辑或直接注入常量。</li>
</ul>
<h3 id="2-引用更改布局-id--引用">2. 引用更改（布局 ID / 引用）</h3>
<ul>
<li>使用开发者助手或 <code>layout</code> 资源查看布局树，找到 <code>id</code>。</li>
<li>若布局在 <code>res/layout/*.xml</code>，可直接反编译修改 xml 值（例如隐藏广告 View：<code>android:visibility=&quot;gone&quot;</code>）。</li>
</ul>
<h3 id="3-hook-模块替代方案">3. HOOK 模块（替代方案）</h3>
<ul>
<li>使用 Xposed / Frida Hook 对特定 Activity 的 <code>onCreate()</code> / UI 更新方法进行拦截并修改参数，避免修改原包。</li>
</ul>
<hr>
<h2 id="四实战案例步骤化">四、实战案例（步骤化）</h2>
<h3 id="案例-1--淘小说升级-vip思路">案例 1 — 淘小说：升级 VIP（思路）</h3>
<ol>
<li>搜关键字（如 <code>isVip</code>、<code>getVipType</code>、<code>vipLevel</code>）。</li>
<li>找到引用 ID / 方法：定位判断逻辑或接口解析代码。</li>
<li>修改返回值（Smali 或 Hook）：让函数永远返回“VIP”。</li>
<li>重签名与安装，验证效果。</li>
</ol>
<h3 id="案例-2--刷圈兔去除广告思路">案例 2 — 刷圈兔：去除广告（思路）</h3>
<ol>
<li>使用开发助手查看布局，定位 <code>bannerViewPager</code> 或 <code>adView</code>。</li>
<li>修改布局 xml（设置 <code>visibility=&quot;gone&quot;</code> 或移除对应 View）或在 Activity 中注入代码隐藏该元素。</li>
<li>替代方案：Hook 加载广告的方法（拦截 <code>loadAd()</code> 并空实现）。</li>
</ol>
<h3 id="案例-3--元气壁纸升级-vip抓包改响应">案例 3 — 元气壁纸：升级 VIP（抓包改响应）</h3>
<ul>
<li>场景：前端逻辑安全，直接修改接口响应并重发到应用能生效。</li>
<li>示例响应（JSON）：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;data&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">2220156</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;userId&#34;</span>: <span style="color:#e6db74">&#34;8kMP5il1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;phoneNum&#34;</span>: <span style="color:#e6db74">&#34;13554365566&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;avatarUrl&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;coverUrl&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gender&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vipType&#34;</span>: <span style="color:#ae81ff">256</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vipPastDueTime&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vipLabelLevel&#34;</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vipLabel&#34;</span>: <span style="color:#e6db74">&#34;元老用户&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createTime&#34;</span>: <span style="color:#ae81ff">1693635001297</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateTime&#34;</span>: <span style="color:#ae81ff">1693635001297</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vitalityVipPastDueTime&#34;</span>: <span style="color:#ae81ff">253392455349</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;accountSign&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;webBackground&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;unionId&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;age&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;category&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;isVirtual&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;qqUnionId&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;pcVipType&#34;</span>: <span style="color:#ae81ff">256</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;pcVipPastDueTime&#34;</span>: <span style="color:#ae81ff">253392455349</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;vitalityPcVipPastDueTime&#34;</span>: <span style="color:#ae81ff">253392455349</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;token&#34;</span>: <span style="color:#e6db74">&#34;xxxxxxxxxxxxxxxx&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;error_msg&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>方法：使用 Burp/Proxy 修改响应并重发（注意接口签名、时间戳、加密校验等）。</p>
</blockquote>
<hr>
<h2 id="五常用命令快速参考">五、常用命令（快速参考）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 反编译 APK（apktool）
</span></span><span style="display:flex;"><span>apktool d app.apk -o app_src
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 反编译 classes.dex 为 Smali（apktool 已包含）
</span></span><span style="display:flex;"><span># 使用 jadx-gui 查看 Java 风格代码
</span></span><span style="display:flex;"><span>jadx-gui app.apk
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 重新打包
</span></span><span style="display:flex;"><span>apktool b app_src -o new_app.apk
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 签名（apksigner 或 jarsigner）
</span></span><span style="display:flex;"><span>apksigner sign --ks mykeystore.jks new_app.apk
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 安装
</span></span><span style="display:flex;"><span>adb install -r new_app.apk
</span></span></code></pre></div><hr>
<h2 id="六注意事项与合规">六、注意事项与合规</h2>
<ul>
<li>所有逆向 / 修改应在 <strong>授权测试环境</strong> 下进行（公司授权或本人测试用设备）。</li>
<li>修改后应用可能触发完整性校验（如 Google SafetyNet、Play Integrity）或服务端校验，需评估影响。</li>
<li>若应用有混淆/加固（如 360、腾讯加固、壳），先行脱壳再做修改。</li>
</ul></section>

  
  
  <div class="paginator">
    
    <a class="prev" href="https://hzhsec.github.io/list/base_bug/xss/xss3/">
      <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375C21.4339 3.93962 21.3581 3.30535 21.1917 2.76787M3.77086 21.1546C1.9934 20.7777 0.973585 18.7264 1.08749 16.688C1.2668 13.479 1.15721 9.43135 1.00513 6.21507C0.87809 3.52811 3.12891 1.16316 5.51029 1.25008C9.76594 1.40542 15.377 1.20229 18.7912 1.00542C20.0864 0.930734 20.8406 1.63385 21.1917 2.76787M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787C23.1097 4.18217 23.13 12.4191 22.9004 16.3608C20.8478 24.0194 12.3061 23.6662 6.5 22.0658M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608C21.2797 23.0494 11.3665 22.9511 6.5 22.0658M9.94496 9C9.28897 9.61644 7.63215 10.997 6.04814 11.7966C5.98257 11.8297 5.98456 11.9753 6.05061 12.0063C7.05496 12.4779 8.92941 13.9264 9.94496 15M6.44444 11.9667C8.86549 12.0608 14 12 16 11" stroke="currentColor" stroke-linecap="round"/>
      </svg>
      <span>XSS 跨站 — 攻击利用：凭据盗取 / 数据提交 / 网络钓鱼 / 溯源综合</span></a>
    
    
    <a class="next" href="https://hzhsec.github.io/list/base_bug/%E6%96%87%E4%BB%B6%E6%BC%8F%E6%B4%9E/up3/"><span>文件包含原理、分类、利用与修复</span>
      <svg class="icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3.77086 21.1546C11.0491 22.698 21.4339 21.7773 21.4339 16.3608V4.63375C21.4339 3.93962 21.3581 3.30535 21.1917 2.76787M3.77086 21.1546C1.9934 20.7777 0.973585 18.7264 1.08749 16.688C1.2668 13.479 1.15721 9.43135 1.00513 6.21507C0.87809 3.52811 3.12891 1.16316 5.51029 1.25008C9.76594 1.40542 15.377 1.20229 18.7912 1.00542C20.0864 0.930734 20.8406 1.63385 21.1917 2.76787M3.77086 21.1546C4.56586 21.4723 5.49168 21.7879 6.5 22.0658M21.1917 2.76787C23.1097 4.18217 23.13 12.4191 22.9004 16.3608C20.8478 24.0194 12.3061 23.6662 6.5 22.0658M21.1917 2.76787C21.7612 4.51192 22.7203 9.67216 22 16.3608C21.2797 23.0494 11.3665 22.9511 6.5 22.0658M12.055 9C12.711 9.61644 14.3679 10.997 15.9519 11.7966C16.0174 11.8297 16.0154 11.9753 15.9494 12.0063C14.945 12.4779 13.0706 13.9264 12.055 15M15.5556 11.9667C13.1345 12.0608 8 12 6 11" stroke="currentColor" stroke-linecap="round"/>
      </svg>
    </a>
    
  </div>
  

  


</article>

        </div><footer class="footer">
  <p>&copy; 2025 <a href="https://hzhsec.github.io/">Hzhsec home</a>
    Powered by
    <a href="https://gohugo.io/" rel="noopener" target="_blank">Hugo️️</a>
    <a href="https://github.com/guangzhengli/hugo-theme-ladder" rel="noopener" target="_blank">Ladder</a>
️  </p>
</footer>

<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10.5376 22.7916C11.0152 22.7207 22.5795 21.1781 22.0978 10.4211C22.0536 9.43274 21.9303 8.53367 21.7387 7.71865M10.5376 22.7916C16.876 22.3728 20.0969 19.8899 21.5383 16.9142M10.5376 22.7916C9.7707 22.9055 8.97982 22.8964 8.19743 22.7725M21.7387 7.71865C21.4988 6.69828 21.1518 5.80967 20.7188 5.04257M21.7387 7.71865C22.6022 10.1105 23.0542 13.7848 21.5383 16.9142M20.7188 5.04257C17.1684 -1.24629 7.83127 0.632493 4.27577 5.04257C2.88063 6.77451 -0.0433281 11.1668 1.38159 16.6571C2.27481 20.0988 5.17269 22.2936 8.19743 22.7725M20.7188 5.04257C22.0697 6.9404 24.0299 11.3848 22.3541 15.4153M21.5383 16.9142C21.8737 16.4251 22.1428 15.9235 22.3541 15.4153M8.19743 22.7725C12.1971 23.4683 20.6281 22.971 22.3541 15.4153M14 10.945C13.3836 10.289 12.003 8.63215 11.2034 7.04814C11.1703 6.98257 11.0247 6.98456 10.9937 7.05061C10.5221 8.05496 9.07362 9.92941 8 10.945M11.0333 7.44444C10.9392 9.86549 11 15 12 17" stroke="currentColor" stroke-linecap="round"/>
    </svg>
</a>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>

<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Copied';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });
        codeblock.parentNode.appendChild(copybutton);
    });
</script></main>
    </body>
  
  <script src="/main.min.6bb26b69159420159c74dc9e097b06a578ed2b68c701466a91a44a9632d851bd0af167a1b30012387b4c512b48ad9ad4d3394e04d77ae38d57e1920fe4ed34fe.js" integrity="sha512-a7JraRWUIBWcdNyeCXsGpXjtK2jHAUZqkaRKljLYUb0K8WehswASOHtMUStIrZrU0zlOBNd6441X4ZIP5O00/g==" crossorigin="anonymous" defer></script></html>
